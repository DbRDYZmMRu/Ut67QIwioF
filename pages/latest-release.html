<!DOCTYPE html>

<html lang="en">
    <head>
        <meta charset="UTF-8" />

        <title>Latest release</title>

        <!--===== Favicon =====-->

        <link rel="shortcut icon" href="../images/favicon.png" />

        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat&amp;display=swap" />

        <link href="https://fonts.googleapis.com/css2?family=Architects+Daughter&display=swap" rel="stylesheet" />

        <!-- font-awesome-icons -->

        <script src="https://kit.fontawesome.com/c7fbb1b458.js" crossorigin="anonymous"></script>

        <link rel="stylesheet" href="../css/playerStyle.css" />

        <meta name="viewport" content="width=device-width, initial-scale=1.0" />

<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Expires" content="0">


  <style>
.popup-container {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.7);
  z-index: 9999;
}

.image-container {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

.image-container img {
  width: 85vw; /* Increased width */
  height: auto; /* Maintain aspect ratio */
  border-radius: 10px;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
  object-fit: contain; /* Ensure image fits within container */
} 
    
  </style>
    </head>

    <body>
        <div id="music-player">
            <img id="album-art" />

            <div id="top-bar">
              
                <div id="about-song">
                    <h2 id="leavePool" class="artist-name"><i class="fa-solid fa-person-walking-dashed-line-arrow-right fa-flip-horizontal"></i> exit</h2>
                </div>
                

                <div id="playlist-btn">
                    <h2><i class="fa-solid fa-record-vinyl"></i> tracks</h2>
                </div>
            </div>

            <div id="lyrics">
                <h1 id="songName" class="song-name"></h1>
                <h2 id="artistName" class="artist-name"></h2>

                <div id="lyrics-content"></div>
            </div>

            <audio id="audioFile" preload="true"></audio>

            <div id="player">
                <div id="bar">
                    <div id="currentTime"></div>

                    <div id="progress-bar">
                        <div id="progress"><i id="progressButton" class="fa-solid fa-circle fa-lg"></i></div>
                    </div>

                    <div id="totalTime"></div>
                </div>

                <div id="menu">
                    <button id="prev"><i class="fa fa-step-backward"></i></button>

                    <button id="play"><i class="fa-solid fa-circle-play fa-lg"></i></button>

                    <button id="next"><i class="fa fa-step-forward"></i></button>

                    <button id="stop"><i class="fa-solid fa-stop fa-lg"></i></button>
                </div>
            </div>

            <div id="playlist">
                <div id="label">
                    <h1>latest release</h1>
                </div>

                <div id="show-box">
                    <div id="show-list"></div>
                </div>
            </div>
        </div>

        <!-- partial -->
<!-- Popup container -->
<div class="popup-container" id="popup-container">

  <!-- Image container -->
  <div class="image-container">
    <img  src="../images/ads/xokhloei.gif" alt="Popup Image" />
  </div>
</div>

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script src="../js/playerScript.js"></script>
  <script>
$(document).ready(function() {
  // Function to check if it's the first load in the hour
  function isFirstLoad() {
    const currentTime = new Date().getTime();
    const storedTime = localStorage.getItem('playerPopupLoadTime');
    
    if (!storedTime || (currentTime - storedTime) >= 0) { // 0ms = 0 seconds 
      localStorage.setItem('playerPopupLoadTime', currentTime);
      return true;
    }
    
    return false;
  }
  
  // Open popup on first load in the hour with 1-second delay
  if (isFirstLoad()) {
    setTimeout(function() {
      $('#popup-container').fadeIn();
    }, 1000); // 1000ms = 1 seconds
  }
  
  // Close popup on close button click, escape key press, or outside click
  $('#close-btn').on('click', function() {
    $('#popup-container').fadeOut();
  });
  
  $(document).keyup(function(e) {
    if (e.key === 'Escape') {
      $('#popup-container').fadeOut();
    }
  });
  
  // Close popup when clicking outside the image
  $('#popup-container').on('click', function(e) {
    if ($(e.target).is('#popup-container') && !$(e.target).closest('.image-container').length) {
      $(this).fadeOut();
    }
  });
  
 // Make image clickable
  $('.image-container img').on('click', function() {
    // Replace with your desired action
    window.open('https://www.ulta.com/p/xo-khloe-pimprod2049077?sku=2632566&fbclid=PAZXh0bgNhZW0CMTEAAaZVXM4Lkj92LaOM2GEyeMxVRAlahdOYqvDPGzl8R2-Jsf758_E9PY8hyC8_aem__mk4AnSGz28b8amcS9xKDg');
  });
});
  </script>
    </body>
</html>
